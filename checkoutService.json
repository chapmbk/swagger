
{"swagger":"2.0","info":{"description":"Provides APIs to perform the checkout flow or the ordering process.","version":"1.0.0","title":"Checkout Service API","contact":{"name":"Bridge2 Solutions"},"license":{}},"host":"localhost:8080","basePath":"/","tags":[{"name":"orders","description":"Services to create orders"},{"name":"carts","description":"Services to create carts"}],"paths":{"/carts":{"post":{"tags":["carts"],"summary":"Creates a cart to be referenced by a future order.","operationId":"createCartUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"cart","description":"A cart containing products and a shipping address.","required":true,"schema":{"$ref":"#/definitions/Cart"}}],"responses":{"201":{"description":"Created","schema":{"$ref":"#/definitions/PricedCart"}},"400":{"description":"Bad Request"},"500":{"description":"Internal Server Error"}}}},"/orders":{"post":{"tags":["orders"],"summary":"Creates an order from the submitted cart.","operationId":"createOrderUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"cart","description":"A cart containing products and a shipping address.","required":true,"schema":{"$ref":"#/definitions/Cart"}},{"name":"x-b2s-cart-id","in":"header","description":"The id of a previously submitted cart.","required":false,"type":"integer","format":"int64"}],"responses":{"201":{"description":"Created","schema":{"$ref":"#/definitions/Order"}},"400":{"description":"Bad Request"},"500":{"description":"Internal Server Error"}}}},"/orders/updates":{"get":{"tags":["orders"],"summary":"Retrieves all order status updates greater than the provided identifier up to the result limit.","operationId":"getOrderUpdatesUsingGET","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"sinceId","in":"query","description":"The id of a last update that the requestor has processed.","required":true,"type":"integer","format":"int64"},{"name":"resultLimit","in":"query","description":"The maximum number of updates to return.","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/OrderUpdate"}}},"400":{"description":"Bad Request"},"500":{"description":"Internal Server Error"}}}}},"definitions":{"PricedCart":{"required":["cartId","pricedCartItems","shippingAddress","totalCost"],"properties":{"cartId":{"type":"integer","format":"int64","description":"The identifier for the created Cart."},"pricedCartItems":{"type":"array","description":"The List of items in the Cart with their prices.","items":{"$ref":"#/definitions/PricedCartItem"}},"shippingAddress":{"description":"The delivery location of the requested products.","$ref":"#/definitions/ShippingAddress"},"totalCost":{"type":"string","description":"The total cost for items in this Cart. The value is expressed as an ISO-4217 compliant three character currency code followed by a decimal number. Example: USD 5.25"}},"description":"A cart that has been priced and is ready to order."},"Order":{"required":["orderId","orderLines","totalCost"],"properties":{"orderId":{"type":"integer","format":"int64","description":"The identifier for the created Order."},"orderLines":{"type":"array","description":"The List of order lines.","items":{"$ref":"#/definitions/OrderLine"}},"totalCost":{"type":"string","description":"The total cost for this Order. The value is expressed as an ISO-4217 compliant three character currency code followed by a decimal number. Example: USD 5.25"}},"description":"An order that has been placed."},"OrderUpdate":{"required":["affectedOrderLines","orderId","shipmentDetails","updateId","updateType"],"properties":{"affectedOrderLines":{"type":"array","description":"The order lines affected by this update.","items":{"type":"integer","format":"int32"}},"notes":{"type":"string","description":"Notes related to this change."},"orderId":{"type":"integer","format":"int64","description":"The unique id of the order that was updated."},"shipmentDetails":{"description":"The detail related to any shipment changes.","$ref":"#/definitions/ShipmentDetails"},"updateId":{"type":"integer","format":"int64","description":"The unique id of this update."},"updateType":{"type":"string","description":"The type of update that occurred.","enum":["CONFIRMATION","INFORMATION_CHANGE","SHIPMENT_CREATED","REJECTED","ERROR","NO_LONGER_AVAILABLE","CANCELED","BACKORDERED","PAYMENT_FAILURE"]}},"description":"Information related to an update that happened on an order."},"OrderLine":{"required":["deliveryMethod","individualCost","lineNumber","product","quantity","shipmentDetails","status","totalCost"],"properties":{"deliveryMethod":{"type":"string","description":"The requested delivery method of these products.","enum":["DOMESTIC_SHIPPING","ELECTRONIC","IN_STORE","INTERNATIONAL_SHIPPING","RESERVE_FOR_PICKUP"]},"individualCost":{"type":"string","description":"The cost for an individual product in this order line. The value is expressed as an ISO-4217 compliant three character currency code followed by a decimal number. Example: USD 5.25"},"lineNumber":{"type":"integer","format":"int32","description":"The number identifying this line item as part of a larger order or cart."},"product":{"description":"The requested product.","$ref":"#/definitions/Product"},"quantity":{"type":"integer","format":"int32","description":"The requested quantity of this product."},"shipmentDetails":{"description":"The shipment details for this order line.","$ref":"#/definitions/ShipmentDetails"},"status":{"type":"string","description":"Order line status","enum":["BACK_ORDERED","CANCELLED","CONFIRMED","CREATED","DELIVERED","ERROR","REJECTED","SHIPPED","UNKNOWN"]},"totalCost":{"type":"string","description":"The total cost for all products contained in this order line. The value is expressed as an ISO-4217 compliant three character currency code followed by a decimal number. Example: USD 5.25"}},"description":"A line item from a larger order."},"ShipmentDetails":{"properties":{"carrier":{"type":"string","description":"The carrier from which the item will be shipped."},"deliveryDatetime":{"type":"string","format":"date-time","description":"The date when the item will be delivered."},"estimatedShipmentDatetime":{"type":"string","format":"date-time","description":"The estimated date when the item will be shipped."},"shipmentDatetime":{"type":"string","format":"date-time","description":"The date when the item will be shipped."},"trackingNumber":{"type":"string","description":"The tracking number of this shipment."},"trackingURL":{"type":"string","description":"The tracking url of this shipment."}},"description":"Details about a shipment."},"ShippingAddress":{"required":["addressLine1","country"],"properties":{"addressLine1":{"type":"string","description":"Address line 1. May not contain a PO Box if not supported by the merchant."},"addressLine2":{"type":"string","description":"Address line 2. May not contain a PO Box if not supported by the merchant."},"addressLine3":{"type":"string","description":"Address line 1. May not contain a PO Box if not supported by the merchant."},"businessName":{"type":"string","description":"If a business name is not specified, a 'shipping description' can be substituted."},"city":{"type":"string","description":"Required for US orders."},"country":{"type":"string","description":"ISO 3166 alpha-2 country code or UN M.49 numeric-3 area code."},"firstName":{"type":"string","description":"Recipient first name."},"lastName":{"type":"string","description":"Recipient last name."},"phone":{"type":"string","description":"Recipient phone number."},"state":{"type":"string","description":"Required for US orders: must be a valid two-character state, territory, or armed forces code."},"zip":{"type":"string","description":"Required for US orders: must be a 5 character or 9 character zip code (with optional separator character xxxxx-xxxx)."}},"description":"Postal address the product should be shipped to."},"Product":{"required":["merchant","merchantPriceInformation","name","productType","psid","sku"],"properties":{"destinationPriceInformation":{"description":"Pricing information related to the requested shipping destination and method.","$ref":"#/definitions/DestinationPriceInformation"},"merchant":{"type":"string","description":"The merchant from which the product is sourced.","enum":["APPLE"]},"merchantPriceInformation":{"description":"Pricing information for the product. Note that this does not include shipping costs since shipping is relative to the shipping address.","$ref":"#/definitions/MerchantPriceInformation"},"name":{"type":"string","description":"The product name."},"productType":{"type":"string","description":"The product's type.","enum":["MERCHANDISE","GIFT_CARD"]},"psid":{"type":"string","description":"The unique identifier for the product within a Bridge2 Solutions environment."},"sku":{"type":"string","description":"The product's stock keeping unit."}}},"CartItem":{"required":["deliveryMethod","lineNumber","product","quantity"],"properties":{"deliveryMethod":{"type":"string","description":"The requested delivery method of these products.","enum":["DOMESTIC_SHIPPING","ELECTRONIC","IN_STORE","INTERNATIONAL_SHIPPING","RESERVE_FOR_PICKUP"]},"lineNumber":{"type":"integer","format":"int32","description":"The number identifying this line item as part of a larger order or cart."},"product":{"description":"The requested product.","$ref":"#/definitions/Product"},"quantity":{"type":"integer","format":"int32","description":"The requested quantity of this product."}},"description":"An item in a cart."},"PricedCartItem":{"required":["deliveryMethod","individualCost","lineNumber","product","quantity","totalCost"],"properties":{"deliveryMethod":{"type":"string","description":"The requested delivery method of these products.","enum":["DOMESTIC_SHIPPING","ELECTRONIC","IN_STORE","INTERNATIONAL_SHIPPING","RESERVE_FOR_PICKUP"]},"individualCost":{"type":"string","description":"The cost for an individual product in this item. The value is expressed as an ISO-4217 compliant three character currency code followed by a decimal number. Example: USD 5.25"},"lineNumber":{"type":"integer","format":"int32","description":"The number identifying this line item as part of a larger order or cart."},"product":{"description":"The requested product.","$ref":"#/definitions/Product"},"quantity":{"type":"integer","format":"int32","description":"The requested quantity of this product."},"totalCost":{"type":"string","description":"The total cost for all products contained in this item. The value is expressed as an ISO-4217 compliant three character currency code followed by a decimal number. Example: USD 5.25"}},"description":"A cart item with its prices."},"DestinationPriceInformation":{"required":["shippingCost"],"properties":{"fees":{"type":"string","description":"The sum of all the applicable fees related to shipping the product to this destination. The value is expressed as an ISO-4217 compliant three character currency code followed by a decimal number. Example: USD 5.25"},"shippingCost":{"type":"string","description":"The cost to ship the product to this destination. The value is expressed as an ISO-4217 compliant three character currency code followed by a decimal number. Example: USD 5.25"}},"description":"Pricing information related to a specific shipping destination."},"MerchantPriceInformation":{"required":["basePrice"],"properties":{"basePrice":{"type":"string","description":"The price of the product excluding any taxes or fees. The value is expressed as an ISO-4217 compliant three character currency code followed by a decimal number. Example: USD 5.25"},"msrp":{"type":"string","description":"The manufacturer's suggested retail price of the product excluding any taxes or fees. The value is expressed as an ISO-4217 compliant three character currency code followed by a decimal number. Example: USD 5.25"}},"description":"Pricing information for the product. Note that this does not include shipping costs since shipping is relative to the shipping address."},"Cart":{"required":["cartItems","shippingAddress"],"properties":{"cartItems":{"type":"array","description":"A List of items in the Cart.","items":{"$ref":"#/definitions/CartItem"}},"shippingAddress":{"description":"The delivery location of the requested products.","$ref":"#/definitions/ShippingAddress"}},"description":"A cart that is ready to be priced."}}}